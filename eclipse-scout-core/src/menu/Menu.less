/*
 * Copyright (c) 2014-2018 BSI Business Systems Integration AG.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *     BSI Business Systems Integration AG - initial API and implementation
 */
.menu-item {
  position: relative;
  display: inline-block;
  vertical-align: middle;
  white-space: nowrap;
  color: @text-color;
  cursor: pointer;
  #scout.vertical-align-helper-before();

  & > .key-box {
    bottom: -3px;
  }

  &:hover {
    color: @hover-color;
  }

  &:active, &.active {
    color: @active-color;
  }

  &.disabled {
    color: @menu-item-disabled-color;
    cursor: default;
  }

  &.menu-textandicon > .icon {
    margin-right: 8px;
  }

  & > .icon,
  & > .text,
  & > .submenu-icon,
  & > .text > .submenu-icon {
    position: relative;
    vertical-align: middle;
    display: inline-block;
    line-height: normal;
    height: auto;

    /* Make IE trigger the :active state if the text or icon is pressed */
    pointer-events: none;
  }

  & > .text {
    /* Icon is bigger than the text -> increase text size to make menu items with and without font icons about equal height. */
    /* Otherwise menu items in context menus have a different size, and the popup of a menu with submenus may not be positioned correctly. */
    padding-top: @menu-item-text-padding-top;
    padding-bottom: 1px;
  }

  &:not(.menu-button) > .icon {
    /* Move "a bit" towards the top, because the icon would not look centered with the text's baseline otherwise. */
    top: -1px;
  }

  & > .icon {

    &.font-icon {
      font-size: 18px;
    }

    &.image-icon {
      /* Prevent large image icons from overlapping the menu item */
      max-height: @menu-item-max-image-icon-height;
      /* Ensure the default image icon size is taken from the beginning, so that the text does not "jump" when */
      /* the image loading is complete. (For larger icons, the width will be increased afterwards.) */
      min-width: @menu-item-min-image-icon-width;
    }

    &.with-label {
      margin-right: 8px;
    }
  }

  &.disabled > .icon.image-icon {
    #scout.vendor(filter, grayscale(100%));
    opacity: 0.5;
  }

  & > .submenu-icon,
  & > .text > .submenu-icon {
    #scout.submenu-icon();
    padding-left: 8px;
    top: -1px;
  }

  & > .font-icon {
    font-size: 18px;
  }

  &.menu-open {
    color: @active-color;
  }

  &.combo-menu-child.menu-icononly:not(:first-child) {
    margin-left: 8px;

    & > .submenu-icon {
      padding-left: 0;
    }
  }

  &.bottom-text.menu-textandicon {
    text-align: center;

    &::before {
      display: none;
    }

    & > .icon {
      display: block;
      margin-right: 0; // reset
      padding-bottom: 3px;
    }

    &:not(.menu-button) > .icon {
      top: 0; // reset
    }

    & > .text {
      display: block;
      font-size: @font-size-extra-small;
      padding-bottom: 0; // reset

      & > .submenu-icon {
        font-size: 12px;
        padding-left: 4px;
        top: 0; // reset
        // Make sure the icon does not increase the height and therefore the whole menu
        line-height: 0;
      }
    }
  }
}
