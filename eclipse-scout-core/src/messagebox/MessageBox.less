/*
 * Copyright (c) 2010-2021 BSI Business Systems Integration AG.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *     BSI Business Systems Integration AG - initial API and implementation
 */
.messagebox {
  position: absolute;
  top: 0;
  left: 0;
  min-width: 200px;
  max-width: @messagebox-max-width;
  #scout.drop-shadow-large();
  background-color: @messagebox-background-color;
  border-radius: @border-radius-medium;
  margin: 10px /* minimum padding to desktop */ 10px 15px;

  .severity-button(@color) {
    & > .box-buttons > .box-button {
      border-color: @color;
      font-weight: @font-weight-bold;
      color: @color;

      &:focus {
        box-shadow: none; /* remove default behavior of buttons. Here the keyboard-navigation class is used instead */
      }

      &.keyboard-navigation {
        box-shadow: 0 0 0 @focus-box-shadow-size fade(@color, 50%);
      }

      &.disabled {
        cursor: default;
        color: @disabled-color;
        border-color: @disabled-color;
      }

      &.selected {
        color: @button-selected-color;

        &:hover {
          background-color: darken(@color, 5%);
        }

        background-color: @color;

        &.disabled {
          cursor: default;
          color: @disabled-color;
          border-color: @disabled-color;
          background-color: @palette-white;
        }
      }
    }
  }

  &.info {
    & > .messagebox-content > .messagebox-header {
      color: @info-color;

      & > .font-icon.messagebox-icon {
        .notification-font-icon-style(@info-color, @font-size-smaller);
      }
    }

    .severity-button(@info-color);
  }

  &.error {
    & > .messagebox-content > .messagebox-header {
      color: @error-color;

      & > .font-icon.messagebox-icon {
        .notification-font-icon-style(@error-color, @font-size-smaller);
      }
    }

    .severity-button(@error-color);
  }

  &.warning {
    & > .messagebox-content > .messagebox-header {
      color: @warning-color;

      & > .font-icon.messagebox-icon {
        .notification-font-icon-style(@warning-color, @font-size-smaller);
      }
    }

    .severity-button(@warning-color);
  }

  &.ok {
    & > .messagebox-content > .messagebox-header {
      color: @ok-color;

      & > .font-icon.messagebox-icon {
        .notification-font-icon-style(@ok-color, @font-size-smaller);
      }
    }

    .severity-button(@ok-color);
  }

  &.animate-open {
    #scout.animation-name(short-drop);
    #scout.animation-duration(0.5s);
  }

  &.animate-modality-highlight {
    #scout.animation-shake();
  }
}

.messagebox-content {
  min-height: 30px;
  background-color: @messagebox-background-color;
  padding: @messagebox-label-padding 26px 21px 26px;
  border-radius: @border-radius-medium;

  /* add a bit of extra space to the scrollbar on the right */

  & > .scrollbar.y-axis {
    width: @scrollbar-size + 2;
  }
}

.messagebox-icon {
  width: 24px;
  height: 24px;
  display: inline-flex;
  align-items: center;
  font-size: @font-size-smaller;
  justify-content: center;
  flex-shrink: 0;
  margin-right: 12px;
}

.messagebox-label {
  word-wrap: break-word;
  text-align: center;

  &.messagebox-html {
    & > ul {
      display: flex;
      text-align: left;
      flex-direction: column;
      flex-wrap: wrap;
      align-content: center;
    }
  }
}

.copyable {
  #scout.user-select(text);
}

.messagebox-header {
  font-size: @font-size-large;
  font-weight: @font-weight-bold;
  padding-bottom: 20px;
}

.messagebox-body {
  color: @messagebox-body-color;
}

.messagebox-buttons {
  display: flex;
  justify-content: center;
  padding: 0 26px 25px 26px;
}

@media (max-width: @messagebox-max-width) {
  .messagebox {
    /* reduce message box width on small screens */
    max-width: 330px;
    /* no need to have a margin on small screens */
    margin: 0;

    & > .box-buttons {
      & > .box-button {
        min-width: 70px; /* less min width for buttons on small screens */
        margin-right: 4px;
      }

      & > .messagebox-buttons {
        padding: 0 10px 20px 10px;
      }
    }

    & > .messagebox-content {
      padding: 10px; /* loose less space on small screens */
    }
  }
}
